interface StreamingLinksProps {
  data: Record<string, string> | null;
}

const PLATFORMS: Record<string, { label: string; icon: React.ReactNode }> = {
  spotify: {
    label: "Spotify",
    icon: (
      <svg viewBox="0 0 24 24" className="h-5 w-5" fill="currentColor">
        <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z" />
      </svg>
    ),
  },
  appleMusic: {
    label: "Apple Music",
    icon: (
      <svg viewBox="0 0 24 24" className="h-5 w-5" fill="currentColor">
        <path d="M23.994 6.124a9.23 9.23 0 0 0-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043A5.022 5.022 0 0 0 19.32.028C18.247-.01 17.174 0 16.101 0H7.9c-.488 0-.978-.01-1.467.004C5.26.024 4.18.08 3.15.493A4.981 4.981 0 0 0 .494 3.15C.079 4.18.024 5.26.004 6.433-.01 7.506 0 8.58 0 9.652v4.697c0 1.073-.01 2.146.004 3.22.02 1.172.075 2.252.489 3.282a4.981 4.981 0 0 0 2.657 2.657c1.03.414 2.11.469 3.282.489C7.506 24.01 8.58 24 9.652 24h4.697c1.073 0 2.146.01 3.22-.004 1.172-.02 2.252-.075 3.282-.489a4.981 4.981 0 0 0 2.657-2.657c.414-1.03.469-2.11.489-3.282.014-1.074.004-2.147.004-3.22V9.652c0-.546.006-1.092-.007-1.638v-1.89zM11.865 3.54l5.04-1.05c.15-.03.3-.06.45-.03.24.03.39.18.45.42.03.12.03.27.03.39v8.13c0 .36-.06.72-.24 1.05-.27.45-.66.72-1.14.87-.36.09-.72.15-1.08.21-.6.09-1.11.36-1.38.93-.18.36-.21.75-.15 1.14.12.6.54 1.02 1.11 1.2.6.21 1.2.15 1.77-.12.72-.36 1.14-.93 1.29-1.71.06-.24.06-.48.06-.72V5.04c0-.12 0-.24.03-.36.03-.18.18-.3.36-.27l1.74.36c.18.03.3.18.3.36v9.48c0 .6-.12 1.17-.36 1.71-.48 1.08-1.29 1.83-2.37 2.25-.72.27-1.47.36-2.25.3-.93-.09-1.74-.42-2.37-1.11-.51-.54-.78-1.2-.84-1.95-.06-.87.18-1.65.75-2.31.54-.63 1.23-.99 2.04-1.14.42-.06.84-.12 1.26-.21.3-.06.57-.18.75-.48.12-.18.15-.39.15-.6V3.9c0-.12-.03-.24-.15-.3-.06-.03-.18-.06-.24-.06z" />
      </svg>
    ),
  },
  youtubeMusic: {
    label: "YouTube",
    icon: (
      <svg viewBox="0 0 24 24" className="h-5 w-5" fill="currentColor">
        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
      </svg>
    ),
  },
  tidal: {
    label: "Tidal",
    icon: (
      <svg viewBox="0 0 24 24" className="h-5 w-5" fill="currentColor">
        <path d="M12.012 3.992L8.008 7.996 4.004 3.992 0 7.996 4.004 12l4.004-4.004L12.012 12l4.004-4.004L12.012 3.992zM12.012 12l-4.004 4.004L12.012 20.008l4.004-4.004L12.012 12zM20.02 3.992l-4.004 4.004L20.02 12l4.004-4.004L20.02 3.992z" />
      </svg>
    ),
  },
  deezer: {
    label: "Deezer",
    icon: (
      <svg viewBox="0 0 24 24" className="h-5 w-5" fill="currentColor">
        <path d="M18.81 4.16v3.03H24V4.16h-5.19zM6.27 8.38v3.027h5.189V8.38H6.27zm12.54 0v3.027H24V8.38h-5.19zM6.27 12.594v3.027h5.189v-3.027H6.27zm6.27 0v3.027h5.19v-3.027h-5.19zm6.27 0v3.027H24v-3.027h-5.19zM0 16.81v3.029h5.19v-3.03H0zm6.27 0v3.029h5.189v-3.03H6.27zm6.27 0v3.029h5.19v-3.03h-5.19zm6.27 0v3.029H24v-3.03h-5.19z" />
      </svg>
    ),
  },
  soundcloud: {
    label: "SoundCloud",
    icon: (
      <svg viewBox="0 0 24 24" className="h-5 w-5" fill="currentColor">
        <path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c-.009-.057-.05-.1-.1-.1m-.899.828c-.06 0-.091.037-.104.094L0 14.479l.172 1.308c.013.06.045.094.09.094.047 0 .082-.038.093-.094l.202-1.308-.202-1.332c-.011-.06-.046-.094-.093-.094m1.83-1.229c-.063 0-.109.053-.116.12l-.213 2.535.213 2.446c.007.066.053.114.116.114.063 0 .109-.048.116-.114l.236-2.446-.236-2.535c-.007-.067-.053-.12-.116-.12m.892-.414c-.073 0-.128.06-.135.13l-.193 2.949.193 2.843c.007.074.062.13.135.13.073 0 .128-.056.135-.13l.217-2.843-.217-2.949c-.007-.07-.062-.13-.135-.13m.893-.18c-.083 0-.148.065-.155.143l-.174 3.129.174 2.987c.007.08.072.143.155.143.082 0 .147-.063.154-.143l.197-2.987-.197-3.129c-.007-.078-.072-.143-.154-.143m.897-.113c-.091 0-.162.075-.169.158l-.156 3.242.156 3.076c.007.087.078.158.169.158.09 0 .16-.07.168-.158l.176-3.076-.176-3.242c-.008-.083-.078-.158-.168-.158m.894 0c-.1 0-.178.08-.185.175l-.14 3.242.14 3.063c.007.095.085.175.185.175.098 0 .176-.08.183-.175l.16-3.063-.16-3.242c-.007-.095-.085-.175-.183-.175m.9-.072c-.11 0-.195.09-.201.19l-.122 3.314.121 3.044c.007.098.092.19.202.19.108 0 .193-.092.2-.19l.137-3.044-.137-3.314c-.007-.098-.092-.19-.2-.19m.9-.101c-.12 0-.211.096-.215.204l-.106 3.415.106 3.015c.004.108.095.204.215.204.119 0 .21-.096.214-.204l.12-3.015-.12-3.415c-.004-.108-.095-.204-.214-.204m1.81.547c-.12 0-.221.103-.225.222l-.09 2.846.09 2.987c.004.118.105.222.225.222.12 0 .221-.104.225-.222l.1-2.987-.1-2.846c-.004-.119-.105-.222-.225-.222m.803-1.445c-.13 0-.232.11-.236.24l-.072 4.291.072 2.968c.004.126.105.236.236.236.13 0 .231-.11.236-.236l.083-2.968-.083-4.291c-.005-.13-.106-.24-.236-.24m.925.483c-.012-.138-.116-.247-.248-.247-.131 0-.236.109-.248.247l-.063 3.808.063 2.95c.012.138.117.247.248.247.132 0 .236-.109.248-.247l.072-2.95-.072-3.808m1.148-1.673c-.143 0-.262.123-.268.27l-.05 5.011.05 2.912c.006.143.125.267.268.267.14 0 .26-.124.266-.267l.055-2.912-.055-5.011c-.006-.147-.126-.27-.266-.27m.894-.406c-.15 0-.28.13-.285.285l-.034 5.416.034 2.893c.005.153.134.284.285.284.15 0 .28-.131.284-.284l.04-2.893-.04-5.416c-.004-.155-.134-.285-.284-.285m.894-.076c-.16 0-.296.14-.3.3l-.018 5.492.018 2.869c.004.16.14.3.3.3.16 0 .295-.14.3-.3l.02-2.869-.02-5.492c-.005-.16-.14-.3-.3-.3m1.789-.476c-.026-.163-.16-.29-.326-.29-.166 0-.3.127-.326.29l-.003 5.768.003 2.844c.025.163.16.29.326.29.165 0 .3-.127.325-.29l.006-2.844-.006-5.768m.882 3.782c-.005-.18-.16-.32-.34-.32-.18 0-.335.14-.34.32l-.002 1.986.002 2.822c.005.18.16.32.34.32.18 0 .335-.14.34-.32v-2.822l-.002-1.986m.894-1.926c-.005-.187-.167-.338-.348-.338-.18 0-.343.15-.348.338v.003l-.002 3.91.002 2.801c.005.187.168.338.348.338.18 0 .343-.15.348-.338v-2.801l-.002-3.913m.928-1.22c-.355 0-.66.301-.664.67l.002 5.163-.002 2.77c.004.367.309.667.664.667.353 0 .658-.3.663-.667l.002-2.77-.002-5.163c-.005-.369-.31-.67-.663-.67m5.293 3.138c-.506 0-.984.097-1.426.27-.217-2.432-2.263-4.338-4.778-4.338-.647 0-1.263.136-1.824.378-.205.087-.26.175-.263.347v8.553c.004.18.148.33.326.348h7.965c1.658 0 3.002-1.37 3.002-3.058 0-1.687-1.344-3.5-3.002-3.5" />
      </svg>
    ),
  },
};

export function StreamingLinks({ data }: StreamingLinksProps) {
  if (!data || Object.keys(data).length === 0) return null;

  const links = Object.entries(PLATFORMS)
    .filter(([key]) => key in data)
    .map(([key, config]) => ({
      key,
      url: data[key],
      ...config,
    }));

  if (links.length === 0) return null;

  return (
    <section className="space-y-3">
      <h2 className="text-xs font-semibold uppercase tracking-wider text-muted">
        Escuchar en
      </h2>
      <div className="flex flex-wrap gap-2">
        {links.map((link) => (
          <a
            key={link.key}
            href={link.url}
            target="_blank"
            rel="noopener noreferrer"
            className="inline-flex h-10 items-center gap-2.5 rounded-lg border border-border bg-card px-4 text-sm text-muted transition-all hover:border-muted/50 hover:text-foreground"
          >
            {link.icon}
            <span>{link.label}</span>
          </a>
        ))}
      </div>
    </section>
  );
}
